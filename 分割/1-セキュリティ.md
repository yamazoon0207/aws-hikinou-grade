[toc]

# 1. セキュリティ

## 情報セキュリティに関するコンプライアンス

* 順守すべき情報セキュリティに関する組織規程やルール、法令、ガイドライン等が存在するかどうかを書く

## セキュリティリスク分析範囲

* システム開発を実施する中で、どの範囲で対象システムの脅威を洗い出し、影響の分析を実施するかの方針を書く
  * ネットワークを通じた不特定多数の攻撃者からの脅威にさらされるか？
  * 重要情報が取り扱われているか？
  * 運用中の見直し有無

## ネットワーク診断実施の有無

* ネットワーク診断には、目視による設定の確認や、疑似攻撃を実施することにより脆弱性を発見する診断（ペネトレーションテスト）、ネットワーク上のサーバや通信機能をもつソフトウェアなどに対する脆弱性調査等がある
  * 実施するか否かについて書く
  * AWSでの侵入テスト https://aws.amazon.com/jp/security/penetration-testing/

## セキュリティパッチ適用

* 以下を書く
  * 適用対象 (OS,MW,DB)
  * 適用時期 (毎月、毎週)
  * 自動適用の有無 
  * 適用後の確認タイミング

## データ暗号化

* 以下を書く
  * 伝送データの暗号化の有無
  * 蓄積データの暗号化の有無
  * 鍵管理方法

* 伝送データ暗号化の例：インターネットを介する通信(インバウンド・アウトバウンド)をする際には基本的に暗号化を行う
    * ELBやCloudFrontを利用する際には無料でACMの証明書を利用可能であるため利用する
    * その他については購入したTLS証明書や自己証明書を適用し暗号化する
    * 暗号化スイートは適切に選択する (2020年4月現在は TLS 1.2 以上を推奨)


## ログ取得・保管

* 監視用に取得するログの種類・と保管期間を書く
  * AWSの利用状況の監査認証を目的として、AWSが提供する以下の機能を利用することを推奨する
      - AWS CloudTrail
      - AWS Config
      - VPCフローログ


## ネットワーク制御

以下のようなことを書く

### 基本方針
* ファイアウォールには「セキュリティグループ」を用いる
    * 参考リンク: [VPC のセキュリティグループ](https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/VPC_SecurityGroups.html)
* 二重管理となるためNACLやOSのファイアウォール機能は使用しない

### 通信毎の基本方針

**インターネット通信**
* inbound と outboundを制御する
    *  outbound を制御する理由としては組織外のリソースに対する不要なアクセスを予め制限することによりセキュリティを高めるため
* 許可するプロトコルを指定して制御する
* 許可するポート番号を指定して制御する
* 許可するCidrは必要最小限の範囲とする(32bitを推奨)
    * システムの特性上必要な場合は any を許可する
* 通信を許可する必要性がある場合に設定を追加する
    *  管理負荷を考慮し拒否設定は行わない

**VPC内部通信**
* inbound のみ制御する
* 許可するプロトコルを指定して制御する
* 許可するポート番号を指定して制御する
* 許可するCidrは必要最小限の範囲とする
* 通信を許可する必要性がある場合に設定を追加する
    *  管理負荷を考慮し拒否設定は行わない

**比較表**
| | インターネット通信 | VPC内部通信 |
| :-------------------------: | :----------: | :-------------: |
| 制御方向 | inbound , outbound | inbound |
| 制御方法 (許可 or 拒否) | 許可 | 許可 |
| Cidr | 必要最小限の範囲を指定する (32bit推奨) | 必要最小限の範囲を指定する |
| プロトコル | 必要最小限の範囲を指定する | 必要最小限の範囲を指定する |
| ポート番号 | 必要最小限の範囲を指定する | 必要最小限の範囲を指定する |

## マルウェア対策

* マルウェア対策の実施有無を書く

## DDOS対策

* どのように DDSO対策するかを書く
* AWS では、レイヤー 3 およびレイヤー 4 の DDoS 攻撃への対処が自動的に行われる
    *  [DDoS 攻撃への対応](https://docs.aws.amazon.com/ja_jp/waf/latest/developerguide/ddos-responding.html) 
        * ただし 全てのレイヤー 3 およびレイヤー 4 の DDoS 攻撃を防げるとは限らない
*  [AWS Best Practices for DDoS Resiliency](https://d1.awsstatic.com/whitepapers/Security/DDoS_White_Paper.pdf) を踏まえると事前対処としては以下となる
    * CloudFrontなどのCDNを用いてコンテンツをキャッシュしておく
    * WEBサーバとなる EC2 は ELB + AutoScaling を用いてトラフィックの増加に耐えることが可能な仕組みにしておく

