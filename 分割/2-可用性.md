[toc]

# 2. 可用性 
## 継続性
### 運用スケジュール

* 「365日24時間」、「特定日のみ稼働」、「休日と夜間は停止」など稼働／停止時間について書く
    * 計画停止の有無を書く

### 業務継続範囲

* 「社内サービス」「外部向けサービス」などサービスの範囲について書く
  * 単一障害／複合障害時にどのサービス継続が必要かを書く

### 目標復旧水準（業務停止時）

* データの損失を許容出来るか否かを書く
  * RTO／RPOについて書く
    * どのくらいの時間でどの時点に戻すか
    * サービスが複数ある場合にはサービス毎
* あるサービス(例：EC2)で障害が起きたときに前段にデータを貯めて(キャッシュして)おく場所があるかを設計図から確認する
  * 「どのサービスで障害が起きてもデータはどこかにキャッシュされていてサービス復旧時に過去データを取り込める状態にする」といった要件がある場合
  * 復旧後に取り込むのかなども要確認

### 目標復旧水準（大規模災害時）

* データの損失を許容出来るか否かを書く
  * RTO／RPOについて書く
    * どのくらいの時間でどの時点に戻すか
    * サービスが複数ある場合にはサービス毎
* あるサービス(例：EC2)で障害が起きたときに前段にデータを貯めて(キャッシュして)おく場所があるかを設計図から確認する
  * 「どのサービスで障害が起きてもデータはどこかにキャッシュされていてサービス復旧時に過去データを取り込める状態にする」といった要件がある場合
  * 復旧後に取り込むのかなども要確認

### 稼働率

* 「1年間で数時間程度の停止を許容」など稼働率の要件があれば書く

## 耐障害性(冗長化の有無)

* 各AWSサービス (EC2／VPC／RDS／EFS／WorkSpaces など) の冗長化について書く
   * 図に描いて挿入するとわかりやすい

## 災害対策(複数AZまたは複数リージョンの利用有無)

* DRサイトの作成有無について書く
  * 作成するDRサイトは「マルチリージョン」か「マルチAZ」か書く (30km災害：マルチAZ 30km以上の災害：マルチリージョン)
  * DR方式を書く
    * バックアップ・リストア (S3上のバックアップを使いDRサイトにシステム構築し復旧)方式
    * パイロットライト(DRサイトにあるデータベースに常時データ同期しておく)方式
    * ウォームスタンバイ(スペックの低い構成をDRサイトに常時起動しデータ同期しておく)方式
    * マルチサイト(同じ構成のDRサイトを常時起動しデータ同期しておく)方式
  * 上を踏まえて各サービスのDR方式について書く
    * 以下はマルチAZの例
    * サブネット構成はマルチAZとすることにより 障害時には他AZのサブネットにて運用可能とする
    * EC2はマルチAZに配置し利用する(Active/Standby)
    * マネージドサービス(ELB, FSx, AWS Managed Microsoft AD) は仕様上 複数AZを利用する

## 回復性

* サービスの復旧手段について書く 以下は例
  * EC2基盤障害時
    * Auto Recovery を利用し 10〜20分程度での回復となる見込み
  * AZ障害時
    * 他AZのサブネットにてバックアップからの復元を行う (60分程度)
    * xxxサーバについては DNS切り替えによる冗長構成により 10〜20分程度での回復となる見込み
    * WEBサーバについては ELBによる冗長構成により 数分程度での回復となる見込み
  * マネージドサービス(ELB, FSx, AWS Managed Microsoft AD)についてはサービスの障害時間となる
